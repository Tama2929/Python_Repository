CalculatorRoot:

<CalculatorRoot>
    Calculator
        id: Calculator

<Calculator>:
    display1: display1_input

    display2: display2_input

    BoxLayout:
        orientation: 'vertical'
        size: root.size

        TextInput:
            id: display2_input
            size_hint_y: 0.4
            font_size: 20

        TextInput:
            id: display1_input
            size_hint_y: 1
            font_size: 50
            hint_text: '0'

        Keyboard:
            size_hint_y: 3.5

<Keyboard@GridLayout>:
    cols: 4
    rows: 5

    spacing: 2
    padding: 4

    # 1列目
    DelButton:
        text: "CE"
    ClearButton:
        text: "C"
    CalcButton:
        text: "%"
    OperatorButton:
        text: "/"

    # 2列目
    NumberButton:
        text: "7"
    NumberButton:
        text: "8"
    NumberButton:
        text: "9"
    OperatorButton:
        text: "*"

    # 3列目
    NumberButton:
        text: "4"
    NumberButton:
        text: "5"
    NumberButton:
        text: "6"
    OperatorButton:
        text: "-"

    # 4列目
    NumberButton:
        text: "1"
    NumberButton:
        text: "2"
    NumberButton:
        text: "3"
    OperatorButton:
        text: "+"

    # 5列目
    CalcButton:
        text: "+/-"
    NumberButton:
        text: "0"
    CalcButton:
        text: "."
    EqualButton:
        text: "="

<ButtonFormat@Button>:
    font_size: '30dp'

<NumberButton@ButtonFormat>:
    on_press: app.root.ids['Calculator'].numbers(self.text)

<OperatorButton@ButtonFormat>:
    on_press: app.root.ids['Calculator'].operators(self.text)

<ClearButton@ButtonFormat>:
    on_press: app.root.ids['Calculator'].clear()

<DelButton@ButtonFormat>:
    on_press: app.root.ids['Calculator'].delete()

<EqualButton@ButtonFormat>:
    on_press: app.root.ids['Calculator'].equal(self.text)

<CalcButton@ButtonFormat>:
    on_press: app.root.ids['Calculator'].calculates(self.text)